最近的一份工作是负责星瀚HR产品下人员的劳动合同以及续签应用的开发，这块的主要功能是方便企业管理员工劳动合同档案，
签署业务场景有新签、续签、改签、解除、终止五种类型。
涉及到基础表档案表，签约公司表，合同模板表，待审视人员名单表，续签申请单表，AT评议人员表等，
串联起来的场景就是员工入职公司，会同步给劳动合同模块发送MQ消息，这边会生成一个新签的劳动合同记录，
当第一份合同到期以后，会有一个续签的过程，其中在华为业务场景中续签需要由一个AT团队进行线上会议给出评议结果是否续签，最后由员工确认。
这一块涉及到工作流讲每个节点串联起来，组成一个完整的对于员工是否续签的流程。

其中涉及到内部模块与人员、组织、岗位等的数据RPC接口调用，与入职、离职模块消息推送与消费，以及华为his系统的数据集成与迁移的处理。
由于华为在职10万员工，导致操作数据记录较大，在性能这块从优化程序到数据库的优化都显得格外重要。

生产问题
问题现象：浏览器访问响应时有时无，内存偏高，续签模块和中台模块CUP偏高，观察到续签应用容器在 unhealthy 和 ready 之间反复变化
问题场景：jetty服务器下，续签应用下的公示续签名单需要给指定的人发送应用号，选择指定的人是一个华为通讯录F7的列表，由于操作员误操作，点击了全选按钮，
将华为10万员工进行选中并发送应用号，1000多个请求同时占用web节点的jetty线程，一个web节点200个线程，web节点同步调用续签RPC，
续签RPC未返回结果之前，web节点线程是被占用的，续签获取单据数据的时候，10万用户是在分录中，续签拿这个整个单据的数据调用中台RPC，
中台拿到这10万数据，又做了log.info对对象进行了tojsonstring，然后把web节点占用了，其他用户就访问不了，其他模块也是需要web节点的jetty线程的，
后面临时恢复环境的处理手段是扩容了web节点，
再排查问题的原因中通过用户操作日志以及dump文件在MAT内存分析工具，发现应用号内容会调用中台的提示语接口，传了单据DynamicObject，
携带分录十万行数据太大，导致大对象太多发生fullGC，出现OOM。


难点问题及优化
1.数据性能调优
测试同学跑压测接口，发现平均耗时远大于200ms的标准。然后通过代码审查发现代码中需要优化，同时通过日志记录拿到执行sql，
在数据库中查询执行计划发现未命中索引，然后在字段上创建复合索引
优化程序（分批处理，线程池处理等），优化索引
实时查询绩效表、劳动态度表等进行计算。后来通过主表添加字段，通过集成任务过来的数据，在新增主表数据的时候进行落库，如果集成表数据有变动，会通过定时任务去刷新有变动的数据到主表

2.集成数据计算
定时任务分批处理员工绩效得分，列表人员岗位职位等字段通过接口调用存入redis缓存等


1.Dubbo和Fegin的区别？
    协议（Dubbo、Rmi、http|http）
    负载均衡(随机、轮询、活跃度、Hash一致性加权|轮询、随机、ResponseTime加权)
    容错策略（快速失败、重试、超时|熔断）
2.mysql的mvcc?
    多版本并发控制，解决读写问题，其中三个隐藏字段，行id,回滚指针，事务id。readView是事务进行快照读的读视图。
3.设计原则？
    开闭原则、单一职责原则、依赖倒置原则、接口分离原则
4.垃圾回收器及用法？
    Serial:单线程、复制算法、新生代
    ParNew:多线程、复制算法、新生代
    Parallel Scavenge:多线程、复制算法、新生代
    Serial Old:单线程、标记整理、老年代
    parallel Old:多线程、标记整理、老年代
    CMS:多线程、标记清除、老年代（GCRoot根）
    G1：标记整理、堆内存划区回收，时间精准、效率高
5.布隆过过滤器怎么实现？
    布隆过滤器认为不在的，一定不会在集合中；布隆过滤器认为在的，不一定存在集合中
    通过K个hash函数在m长度的bit数组上做计算，默认都是0，bit数组被映射到的位置的元素变为1
    判断元素不存在：用k个哈希函数把要判断的元素映射到bit数组的位置上，bit数组被映射到的位中有一个位不是1，那这个元素不在已有的集合内
6.分布式事务怎么实现？二段式提交
    第一阶段投票，第二阶段提交。涉及到协调者和参与者集群
7.分区容错？
    分区容错就是网络因故障导致集群分裂，某些节点数据不能被其他节点获取，这种无法容忍的情况下就是一个数据项复制到多个节点上实现分区容错性
8.弱引用、虚引用？
    弱引用：先被GC线程标记，第二次扫描才会被回收
    虚引用：不对生存造成任何影响，用于跟踪GC的回收通知
9.algo内存计算数据库引擎
    在内存中进行各种数据运算，如过滤、聚合、分组、join等各种复杂内存计算
10.设计模式使用？
    通过迭代器模式校验员工新签的多重校验
    通过模板模式创建父类创建基本方法，各种签署业务场景子类实现各自功能
    通过单例模式创建帮助类的全局唯一实例对象
    
    华盛通
    1.dubbo的默认序列化方式
    2.dubbo的网络通信协议哪几种
    3.dubbo的异步RPC怎么改成同步
    4.规则引擎底层实现原理
    5.Spring的事务传播机制几种方式
    6.spring的事务传播机制实现原理除了用到AOP还有啥
    7.慢sql如何优化
    8.mysql深度分页

性格优劣势
优点：
    对工作职责以及任务的专一性，会严格要求自己完成

缺点：
    不太会懂得拒绝（同事之间的技术交流与代码回顾这块，因为承担SE角色，和组员这块沟通比较多，花费了比较多的时间，当然结果也是对大家都有帮助）
    改掉缺点的决心和态度（曾经坚持了两个多月晚上跑步5公里，坚持了两个多月效果也比较显著，后来过完年着急赶项目618的一次大的版本发布，有一些加班，忽略了这块得锻炼，体重慢慢的出现反弹）