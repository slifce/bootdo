最近的一份工作是负责星瀚HR产品下人员的劳动合同以及续签应用的开发，这块的主要功能是方便企业管理员工劳动合同档案，
签署业务场景有新签、续签、改签、解除、终止五种类型。
涉及到基础表档案表，签约公司表，合同模板表，待审视人员名单表，续签申请单表，AT评议人员表等，
串联起来的场景就是员工入职公司，会同步给劳动合同模块发送MQ消息，这边会生成一个新签的劳动合同记录，
当第一份合同到期以后，会有一个续签的过程，其中在华为业务场景中续签需要由一个AT团队进行线上会议给出评议结果是否续签，最后由员工确认。
这一块涉及到工作流讲每个节点串联起来，组成一个完整的对于员工是否续签的流程。

其中涉及到内部模块与人员、组织、岗位等的数据RPC接口调用，与入职、离职模块消息推送与消费，以及华为his系统的数据集成与迁移的处理。
由于华为在职10万员工，导致操作数据记录较大，在性能这块从优化程序到数据库的优化都显得格外重要。

生产问题
问题现象：浏览器访问响应时有时无，内存偏高，续签模块和中台模块CUP偏高，观察到续签应用容器在 unhealthy 和 ready 之间反复变化
问题场景：jetty服务器下，续签应用下的公示续签名单需要给指定的人发送应用号，选择指定的人是一个华为通讯录F7的列表，由于操作员误操作，点击了全选按钮，
将华为10万员工进行选中并发送应用号，1000多个请求同时占用web节点的jetty线程，一个web节点200个线程，web节点同步调用续签RPC，
续签RPC未返回结果之前，web节点线程是被占用的，续签获取单据数据的时候，10万用户是在分录中，续签拿这个整个单据的数据调用中台RPC，
中台拿到这10万数据，又做了log.info对对象进行了tojsonstring，然后把web节点占用了，其他用户就访问不了，其他模块也是需要web节点的jetty线程的，
后面临时恢复环境的处理手段是扩容了web节点，
再排查问题的原因中发现应用号内容会调用中台的提示语接口，传了单据DynamicObject。


难点问题及优化
1.数据性能调优
测试同学跑压测接口，发现平均耗时远大于200ms的标准。然后通过代码审查发现代码中需要优化，同时通过日志记录拿到执行sql，
在数据库中查询执行计划发现未命中索引，然后在字段上创建复合索引
优化程序（分批处理，循环查库等），优化索引


2.线上OOM排查
设计模式
场景应用：新签申请单的多重校验
采用迭代器设计模式，通过创建一个基础校验类，将多个校验封装为类，放到迭代器LinkedList中，通过业务场景的遇到校验推出或者全部校验再提示等


3.集成数据计算
定时任务分批处理员工绩效得分，列表人员岗位职位等实时性字段通过接口调用存入redis缓存等

1.fegin和dubbo的区别？协议（Dubbo、Rmi、http|http）、负载均衡(随机、轮询、活跃度、Hash一致性加权|轮询、随机、ResponseTime加权)、容错策略（快速失败、重试、超时|熔断）、
2.mysql的mvcc?
3.设计原则？单一职能，理事替换，开闭
4.垃圾回收器及用法？
5.布隆过过滤器怎么实现？
6.分布式事务怎么实现？二段式提交
7.分区容错？
8.弱引用、虚引用

